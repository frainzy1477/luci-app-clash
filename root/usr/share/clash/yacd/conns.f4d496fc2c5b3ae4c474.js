(self.webpackChunkyacd=self.webpackChunkyacd||[]).push([[170],{64997:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return fe}});n(82526),n(54747),n(49337),n(41539),n(91038),n(41817),n(66992),n(33948);var t=n(42172),o=n(90924),s=n(94949),c=(n(26699),n(32023),n(57327),n(65069),n(21249),n(47042),n(92222),n(34553),n(67294)),a=n(45720),i=n(50794),u=n(78268),l=n(64478),d=n(340),f=n(97750),p=n(87462),h=n(6055),j="_1L_OYNGd-Q",v="_3KG2Wl3UIL",y="_2VBzsdXyrW",m="_3jbpkYalBS",x=n(86010),b=n(70207),g=n(27434),w=n(79521),O=n(11534),C="_1jfIf4GmHx",P="_3lQG38TYko",S="_2jKsqjrYbo",Z="MuvmFG__PV",k="_3ydhc_nkf0",D="_3q0v0OLzZL",_="_1XNg9MalRS",H=n(85893);function L(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function N(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?L(Object(n),!0).forEach((function(r){(0,s.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var R=!0,I=[{accessor:"id",show:!1},{Header:"Host",accessor:"host"},{Header:"DL",accessor:"download",sortDescFirst:R},{Header:"UL",accessor:"upload",sortDescFirst:R},{Header:"DL Speed",accessor:"downloadSpeedCurr",sortDescFirst:R},{Header:"UL Speed",accessor:"uploadSpeedCurr",sortDescFirst:R},{Header:"Chains",accessor:"chains"},{Header:"Rule",accessor:"rule"},{Header:"Time",accessor:"start",sortDescFirst:R},{Header:"Source",accessor:"source"},{Header:"Destination IP",accessor:"destinationIP"},{Header:"Type",accessor:"type"}];function B(e){switch(e.column.id){case"start":return(0,b.Z)(e.value,0);case"download":case"upload":return(0,O.Z)(e.value);case"downloadSpeedCurr":case"uploadSpeedCurr":return(0,O.Z)(e.value)+"/s";default:return e.value}}var F={sortBy:[{id:"id",desc:!0}],hiddenColumns:["id"]};var T=function(e){var r=e.data,n=(0,w.useTable)({columns:I,data:r,initialState:F,autoResetSortBy:!1},w.useSortBy),t=n.getTableProps,o=n.headerGroups,s=n.rows,c=n.prepareRow;return(0,H.jsx)("div",N(N({},t()),{},{children:o.map((function(e){return(0,H.jsxs)("div",N(N({},e.getHeaderGroupProps()),{},{className:C,children:[e.headers.map((function(e){return(0,H.jsxs)("div",N(N({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:P,children:[(0,H.jsx)("span",{children:e.render("Header")}),(0,H.jsx)("span",{className:D,children:e.isSorted?(0,H.jsx)("span",{className:e.isSortedDesc?"":_,children:(0,H.jsx)(g.Z,{size:16})}):null})]}))})),s.map((function(e,r){return c(e),e.cells.map((function(e,n){return(0,H.jsx)("div",N(N({},e.getCellProps()),{},{className:(0,x.Z)(S,r%2==0&&Z,n>=1&&n<=4&&k),children:B(e)}))}))}))]}))}))}))},A=n(82569),$=n(83253),q=n.n($),E=n(25904),z=n(93621),K="_2EXTX1C3T7",G="_3Or8nP9psK",U="cMLUu0qS4R",M="_29FK6hdfwZ",Y=c.useRef,Q=c.useCallback,X=c.useMemo;function W(e){var r=e.isOpen,n=e.onRequestClose,t=e.primaryButtonOnTap,o=Y(null),s=Q((function(){o.current.focus()}),[]),c=X((function(){return{base:(0,x.Z)(z.Z.content,G),afterOpen:U,beforeClose:""}}),[]);return(0,H.jsxs)(q(),{isOpen:r,onRequestClose:n,onAfterOpen:s,className:c,overlayClassName:(0,x.Z)(z.Z.overlay,K),children:[(0,H.jsx)("p",{children:"Are you sure you want to close all connections?"}),(0,H.jsxs)("div",{className:M,children:[(0,H.jsx)(E.Z,{onClick:t,ref:o,children:"I'm sure"}),(0,H.jsx)("div",{style:{width:20}}),(0,H.jsx)(E.Z,{onClick:n,children:"No"})]})]})}var V=n(51525),J=n(85295),ee=n(4541);function re(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,r){if(!e)return;if("string"==typeof e)return ne(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,r)}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,s=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw s}}}}function ne(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function te(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function oe(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?te(Object(n),!0).forEach((function(r){(0,s.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var se=c.useEffect,ce=c.useState,ae=c.useRef,ie=c.useCallback;function ue(e,r){return r?e.filter((function(e){return[e.host,e.sourceIP,e.sourcePort,e.destinationIP,e.chains,e.rule,e.type,e.network].some((function(e){return n=r,e.toLowerCase().includes(n.toLowerCase());var n}))})):e}function le(e){return e.length>0?(0,H.jsx)(T,{data:e}):(0,H.jsx)("div",{className:j,children:(0,H.jsx)(ee.Z,{width:200,height:200,c1:"var(--color-text)"})})}function de(e){var r=e.qty;return r<100?""+r:"99+"}var fe=(0,J.$j)((function(e){return{apiConfig:(0,h.Y$)(e)}}))((function(e){var r=e.apiConfig,n=(0,p.Z)(),s=(0,o.Z)(n,2),c=s[0],h=s[1],j=ce([]),x=(0,o.Z)(j,2),b=x[0],g=x[1],w=ce([]),O=(0,o.Z)(w,2),C=O[0],P=O[1],S=ce(""),Z=(0,o.Z)(S,2),k=Z[0],D=Z[1],_=ue(b,k),L=ue(C,k),N=ce(!1),R=(0,o.Z)(N,2),I=R[0],B=R[1],F=ie((function(){return B(!0)}),[]),T=ie((function(){return B(!1)}),[]),$=ce(!1),q=(0,o.Z)($,2),E=q[0],z=q[1],K=ie((function(){z((function(e){return!e}))}),[]),G=ie((function(){f.PI(r),T()}),[r,T]),U=ae(b),M=ie((function(e){var r,n=e.connections,o=function(e){for(var r={},n=0;n<e.length;n++){var t=e[n];r[t.id]=t}return r}(U.current),s=Date.now(),c=n.map((function(e){return function(e,r,n){var t=e.id,o=e.metadata,s=e.upload,c=e.download,a=e.start,i=e.chains,u=e.rule,l=o.host,d=o.destinationPort,f=o.destinationIP,p=o.network,h=o.type,j=o.sourceIP,v=o.sourcePort,y=l;""===y&&(y=f);var m=r[t];return oe(oe({id:t,upload:s,download:c,start:n-new Date(a).valueOf(),chains:i.reverse().join(" / "),rule:u},o),{},{host:`${y}:${d}`,type:`${h}(${p})`,source:`${j}:${v}`,downloadSpeedCurr:c-(m?m.download:0),uploadSpeedCurr:s-(m?m.upload:0)})}(e,o,s)})),a=[],i=re(U.current);try{var u=function(){var e=r.value;c.findIndex((function(r){return r.id===e.id}))<0&&a.push(e)};for(i.s();!(r=i.n()).done;)u()}catch(e){i.e(e)}finally{i.f()}P((function(e){return[].concat(a,(0,t.Z)(e)).slice(0,101)})),!c||0===c.length&&0===U.current.length||E?U.current=c:(U.current=c,g(c))}),[g,E]);se((function(){return f.rQ(r,M)}),[r,M]);var Y=(0,l.$)().t;return(0,H.jsxs)("div",{children:[(0,H.jsx)(A.Z,{title:Y("Connections")}),(0,H.jsxs)(d.mQ,{children:[(0,H.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,H.jsxs)(d.td,{children:[(0,H.jsxs)(d.OK,{children:[(0,H.jsx)("span",{children:Y("Active")}),(0,H.jsx)("span",{className:v,children:(0,H.jsx)(de,{qty:_.length})})]}),(0,H.jsxs)(d.OK,{children:[(0,H.jsx)("span",{children:Y("Closed")}),(0,H.jsx)("span",{className:v,children:(0,H.jsx)(de,{qty:L.length})})]})]}),(0,H.jsx)("div",{className:y,children:(0,H.jsx)("input",{type:"text",name:"filter",autoComplete:"off",className:m,placeholder:"Filter",onChange:function(e){return D(e.target.value)}})})]}),(0,H.jsx)("div",{ref:c,style:{padding:30,paddingBottom:30,paddingTop:0},children:(0,H.jsxs)("div",{style:{height:h-30,overflow:"auto"},children:[(0,H.jsxs)(d.x4,{children:[(0,H.jsx)(H.Fragment,{children:le(_)}),(0,H.jsx)(V.Lg,{icon:E?(0,H.jsx)(a.Z,{size:16}):(0,H.jsx)(i.Z,{size:16}),mainButtonStyles:E?{background:"#e74c3c"}:{},style:V.FK,text:E?"Resume Refresh":"Pause Refresh",onClick:K,children:(0,H.jsx)(V.aU,{text:"Close All Connections",onClick:F,children:(0,H.jsx)(u.Z,{size:10})})})]}),(0,H.jsx)(d.x4,{children:le(L)})]})}),(0,H.jsx)(W,{isOpen:I,primaryButtonOnTap:G,onRequestClose:T})]})]})}))},51525:function(e,r,n){"use strict";n.d(r,{aU:function(){return t.Action},Lg:function(){return t.Fab},$4:function(){return c},FK:function(){return a}});n(67294);var t=n(66018),o="_3nmqcBZJL5",s=n(85893);function c(e){var r=e.children;return(0,s.jsx)("span",{className:o,children:r})}var a={right:10,bottom:10}},87462:function(e,r,n){"use strict";n.d(r,{Z:function(){return u}});var t=n(90924),o=n(67294),s=o.useState,c=o.useRef,a=o.useCallback,i=o.useLayoutEffect;function u(){var e=c(null),r=s(200),n=(0,t.Z)(r,2),o=n[0],u=n[1],l=a((function(){var r=e.current.getBoundingClientRect().top;u(window.innerHeight-r)}),[]);return i((function(){return l(),window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[l]),[e,o]}}}]);
//# sourceMappingURL=conns.f4d496fc2c5b3ae4c474.js.map